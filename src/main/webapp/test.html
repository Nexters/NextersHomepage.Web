<!DOCTYPE html>

<html>
<head>
	<meta charset="UTF-8">
	<title>test hello</title>

	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="c_css/c_css.css">
	
</head>

<body>


	<!--Navigarion bar start-->
	<nav class="navbar custom-center navbar-custom-padding" role="navigation">
		<div class="container-fluid">
			<a class="navbar-brand" href="Main.html">Nexters</a>
		</div>
		<div class="container-fluid">
			<div class="navbar-header" id="jqxMenu">
				
			</div>

			<div class="navbar-header navbar-right">
				<ul class="nav navbar-nav">
					<a href="#myModal" roll="button" class="btn btn-primary" data-toggle="modal">SignIn</a>
				</ul>
			</div>
		</div>
	</nav>

	<!--Navigarion bar end-->

	<div class="container custom-center">
		<div class="jumbotron no-margin">
			<img src="image/main_picture.png" class="img-responsive">
		</div>	
	</div>

	<span id="status"></span>

	<!--modal login popup-->

	<div id="myModal" class="modal fade"  role="dialog">
		<div class="modal-dialog">
			<div class="modal-content"> 
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
					<h2>Login form</h2>
				</div>
				<div class="modal-body">


					<form class="form-horizontal">
						<div class="form-group">
							<label for="inputEmail3" class="col-sm-2 control-label">Email</label>
							<div class="col-sm-8">
								<input type="email" class="form-control" name="username" placeholder="Email">
							</div>
						</div>
						<div class="form-group">
							<label for="inputPassword3" class="col-sm-2 control-label">Password</label>
							<div class="col-sm-8">
								<input type="password" class="form-control" name="password" placeholder="Password">
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<div class="checkbox">
									<label>
										<input type="checkbox"> Remember me
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<button type="button" class="btn btn-primary" onclick="onSubmit()">Sign in</button>
							</div>
						</div>
					</form>
				</div>			
			</div>
		</div>
	</div>

	<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
	<script src="js/bootstrap.js" type="text/javascript"></script>
	<script src="js/main.js" type="text/javascript"></script>
	<script src="menuInfo/menu.js" type="text/javascript"></script>


	<script type="text/javascript">
	
	var data;
	
	var builddata = function () {
		var source = [];
		var items = [];
    // build hierarchical source.
    for (i = 0; i < data.length; i++) {
    	var item = data[i];
    	var label = item["text"];
    	var parentid = item["parentid"];
    	var id = item["id"];

    	if (items[parentid]) {
    		var item = { parentid: parentid, label: label, item: item };
    		if (!items[parentid].items) {
    			items[parentid].items = [];
    		}
    		items[parentid].items[items[parentid].items.length] = item;
    		items[id] = item;
    	}
    	else {
    		items[id] = { parentid: parentid, label: label, item: item };
    		source[id] = items[id];
    	}
    }
    return source;

}

var buildUL = function (parent, items) {
	$.each(items, function () {
		if (this.label) {
            // create LI element and append it to the parent element.
            var li = $("<li><a href=" + this.label+".html\">" + this.label + "</a></li>");

            li.appendTo(parent);
            // if there are sub items, call the buildUL function.
            if (this.items && this.items.length > 0) {
            	var ul = $("<ul></ul>");
            	ul.appendTo(li);
            	buildUL(ul, this.items);
            }
        }
    });
}

$(document).ready(function() {
	$.getJSON( "menuInfo/menuInfo.json", function( jsonData ) {
		data = jsonData.menu;
		
		var ul = $("<ul class=\"nav navbar-header\"></ul>");
		var source = builddata();
		buildUL(ul, source);
		$("#jqxMenu").html(ul);
		$("#jqxMenu li").addClass("navbar-nav");
		
	});
});


</script>



</body>
</html>